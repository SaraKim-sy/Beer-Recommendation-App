<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">

  <title>Beer 101</title>
  <meta content="" name="description">
  <meta content="" name="keywords">

  <!-- Favicons -->
  <link rel="icon" href="{{ url_for('static', filename='img/favicon1.png') }}">
  <link rel="apple-touch-icon" href="{{ url_for('static', filename='img/apple-touch-icon.png') }}" >

  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i|Raleway:300,300i,400,400i,600,600i,700,700i,900" rel="stylesheet">

  <!-- d3 JavaScript -->
  <script src="https://d3js.org/d3.v5.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/d3-tip/0.7.1/d3-tip.min.js"></script>
  <script src='https://cdn.plot.ly/plotly-latest.min.js'></script> 
  <!-- Vendor CSS Files -->

  <link rel="stylesheet" href="{{ url_for('static', filename='vendor/animate.css/animate.min.css') }}">
  <link rel="stylesheet" href="{{ url_for('static', filename='vendor/aos/aos.css') }}">
  <link rel="stylesheet" href="{{ url_for('static', filename='vendor/bootstrap/css/bootstrap.min.css') }}">
  <link rel="stylesheet" href="{{ url_for('static', filename='vendor/bootstrap-icons/bootstrap-icons.css') }}">
  <link rel="stylesheet" href="{{ url_for('static', filename='vendor/boxicons/css/boxicons.min.css') }}">
  <!-- <link rel="stylesheet" href="{{ url_for('static', filename='vendor/swiper/swiper-bundle.min.css') }}"> -->

  <!-- Template Main CSS File -->
  <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">

  <!-- =======================================================
  * Template Name: Mamba - v4.0.2
  * Template URL: https://bootstrapmade.com/mamba-one-page-bootstrap-template-free/
  * Author: BootstrapMade.com
  * License: https://bootstrapmade.com/license/
  ======================================================== -->
</head>

<body>

  <!-- ======= Top Bar ======= -->
  <!-- <section id="topbar" class="d-flex align-items-center">
    <div class="container d-flex justify-content-center justify-content-md-between">
      <div class="contact-info d-flex align-items-center">
        <i class="bi bi-envelope-fill"></i><a href="mailto:contact@example.com">info@example.com</a>
        <i class="bi bi-phone-fill phone-icon"></i> +1 5589 55488 55
      </div>
      <div class="social-links d-none d-md-block">
        <a href="#" class="twitter"><i class="bi bi-twitter"></i></a>
        <a href="#" class="facebook"><i class="bi bi-facebook"></i></a>
        <a href="#" class="instagram"><i class="bi bi-instagram"></i></a>
        <a href="#" class="linkedin"><i class="bi bi-linkedin"></i></i></a>
      </div>
    </div>
  </section> -->

  <!-- ======= Header ======= -->
  <header id="header" class="d-flex align-items-center">
    <div class="container d-flex align-items-center">

      <div class="logo me-auto">
        <h1><a href="{{ url_for('home') }}">Beer Recommendation</a></h1>
        <!-- Uncomment below if you prefer to use an image logo -->
        <!-- <a href="index.html"><img src="assets/img/logo.png" alt="" class="img-fluid"></a>-->
      </div>

      <nav id="navbar" class="navbar">
        <ul>
          <li><a class="nav-link scrollto active" href="{{ url_for('home') }}">Home</a></li>
          <li><a class="nav-link scrollto" href="{{ url_for('home') }}#about">About the Project</a></li>
          <li><a class="nav-link scrollto" href="{{ url_for('home') }}#services">All about Beer (EDA)</a></li>
          <li class="dropdown"><a href="{{ url_for('home') }}#portfolio"><span>Beer Recommendation</span> <i class="bi bi-chevron-down"></i></a>
            <ul>
              <li><a href="{{ url_for('recommend_a') }}">Based on Similarity</a></li>
              <li><a href="{{ url_for('recommend_b') }}">Based on Personal Ratings</a></li>
            </ul>
          </li>
          <li><a class="nav-link scrollto" href="{{ url_for('home') }}#team">Team</a></li>

          <!-- <li><a class="nav-link scrollto" href="#contact">Contact</a></li> -->
        </ul>
        <i class="bi bi-list mobile-nav-toggle"></i>
      </nav><!-- .navbar -->

    </div>
  </header><!-- End Header -->

  <main id="main">

    <!-- ======= Breadcrumbs Section ======= -->
    <section class="breadcrumbs">
      <div class="container">

        <div class="d-flex justify-content-between align-items-center">
          <h2>Beer Recommendation Based on Similarity</h2>
          <ol>
            <li><a href="{{ url_for('home') }}">Home</a></li>
            <li><a href="{{ url_for('home') }}#portfolio">Beer Recommendation</a></li>
            <li>Based on Similarity</li>
          </ol>
        </div>

      </div>
    </section><!-- Breadcrumbs Section -->

    <!-- ======= Portfolio Details Section ======= -->
    <section id="portfolio-details" class="portfolio-details">
      <div class="container" data-aos="fade-up">

        <div class="row gy-4">

          <div class="col-lg-7">
            <div class="portfolio-details-slider swiper-container">
              <div class="swiper-wrapper align-items-center">

                <div class="swiper-slide">
                  <img src="static/img/recommendation/recommendation-a.jpg" alt="">
                </div>
                <div>
                  <h4>RECOMMENDER I. SIMILAR FACTOR</h4>
                   <p class = "text-muted">Based on 91,777 beer reviews</p>
                </div>

                <!-- <div class="swiper-slide">
                  <img src="static/img/portfolio/portfolio-2.jpg" alt="">
                </div> -->

                <!-- <div class="swiper-slide">
                  <img src="assets/img/portfolio/portfolio-3.jpg" alt="">
                </div> -->

              </div>
              <!-- <div class="swiper-pagination"></div> -->
            </div>
          </div>

          <div class="col-lg-5">

            <div class="portfolio-description">
              <h2>What beer would you like?</h2>
              <p>
                This recommendation will be based on <strong>similarity between beers</strong>. Please select one of the beers you like and a factor you think the most important between Flavor, Aroma and Texture for beer.
              </p>
            </div>

            <br>

            <div class="portfolio-info">
              <h3>Select the Options Below.</h3>
              <form method="POST" action="/recommend_a" role="form", name="petform">
                  <ul class="option-groups">
                    <li>
                      <label for="beer"><strong>Beer  </strong></label><br>
                            <select id="select-beer" name="beerName">
                              <option selected="">Choose a beer you like</option>
                      </select>
                    </li>

                    <br>

                    <li>
                      <label for="taste"><strong>Important Factor  </strong></label><br>
                            <select id="select-taste" name="selectedFactor">
                              <option selected="">Choose a factor</option>
                      </select>
                    </li>
                  </ul>
                
            </div>

            <br>

            <div class="text-center">
              <!-- <input id="buttonA" type="submit" class="btn btn-outline-primary" href="#" role="button">Find me good beers!</a> -->
              <input id="buttonA" type="submit" class="btn btn-outline-primary" value="Find me good beers!">
            </div>

          </form>
            <!-- <a class="btn btn-outline-primary" href="/scrape" role="button">Scrape New Data</a> -->

        </div>
        <!-- <div class="beer-recommendation">
            <h2><b>Your Beer Recommendation:</b></h2>
                    <ul>
                      <li>
                       <b> {{beer_data.beer_name[0]}} </b>
                      </li>
                      <li>
                      <b> {{beer_data.beer_name[1]}} </b>
                      </li>
                      <li>
                      <b>{{beer_data.beer_name[2]}}</b>
                      </li>
                    </ul>
          </div> -->
      </div>
    </section><!-- End Portfolio Details Section -->

    <!-- ======= Beer Recommendation Section ======= -->
     <section id="portfolio" class="portfolio section-bg">
      <div class="container" data-aos="fade-up" data-aos-delay="100">
        <div class="section-title">
          <h2>Your Beer Recommendation</h2>
          <p>Whether you like the brand or you like the specs, we've got you covered! Check out your beer recommendation below based on similarity between beers: </p>
        </div>
        <div class="row portfolio-container">
          <div class="col-lg-4 col-md-4 portfolio-item text-center">
            <h4>{{beer_data.beer_name[0]}}</h4>
            <div class="portfolio-wrap">              
              <img src="static/img/beer/{{beer_data.beer_name[0]}}.jpg" height=95 class="img-fluid" alt="sorry! no picture collected yet">
            </div>
          </div>
          <div class="col-lg-4 col-md-4 portfolio-item text-center">
            <h4>{{beer_data.beer_name[1]}}</h4>            
            <div class="portfolio-wrap">
              <img src="static/img/beer/{{beer_data.beer_name[1]}}.jpg" height="100" class="img-fluid" alt="sorry! no picture collected yet">
            </div>
          </div>
          <div class="col-lg-4 col-md-4 portfolio-item text-center">
            <h4>{{beer_data.beer_name[2]}}</h4>
            <div class="portfolio-wrap">
              <img src="static/img/beer/{{beer_data.beer_name[2]}}.jpg" height="100" class="img-fluid" alt="sorry! no picture collected yet">
            </div>
          </div>
        </div>
      </div>
    </section><!-- End Our Portfolio Section -->

    <div id='myDiv'></div>
    <script>
      var data = JSON.parse(({{ targetJason|safe }}))

      console.log(data);

      console.log(data.cluster3)

      data = [
      {
        type: 'scatterpolar',
        r: data['cluster3'],
        theta: ['Aroma', 'Appearance', 'Flavor','Mouthfeel', 'Overall'],
        fill: 'toself',
        name: 'Good',
        marker : { color : 'salmon'}
      },
      {
      type: 'scatterpolar',
      r: data['cluster2'],
      theta: ['Aroma', 'Appearance', 'Flavor','Mouthfeel', 'Overall'],
      fill: 'toself',
      name: 'SoSo',
      marker : { color : 'blue'}
      },
      {
      type: 'scatterpolar',
      r: data['cluster1'],
      theta: ['Aroma', 'Appearance', 'Flavor','Mouthfeel', 'Overall'],
      fill: 'toself',
      name: 'Sad',
      marker : { color : 'skyblue'}
      },
      {
      type: 'scatterpolar',
      r: data['beer_cluster1'],
      theta: ['Aroma', 'Appearance', 'Flavor','Mouthfeel', 'Overall'],
      fill: 'toself',
      name: data['beer_name'][0],
      marker : { color : 'green'}
      },   
      
      ]

      layout = {
      polar: {
        radialaxis: {
          visible: true,
          range: [0, 1]
        }
      },
      title: {
        text:'Recommend Beer Clustering Type',
        font: {
          size: 24
        },
        x : 0.47
      }
    }

  Plotly.newPlot("myDiv", data, layout)
  </script>

    
  </main>

 <!-- ======= Footer ======= -->
 <footer id="footer">
  <div class="container">
    <div class="copyright">
      &copy; Copyright <strong><span>Team Awesome @2020</span></strong>. All Rights Reserved
    </div>
    <div class="credits">
      Designed by <a href="https://bootstrapmade.com/">BootstrapMade</a>
    </div>
  </div>
</footer><!-- End Footer -->

<a href="#" class="back-to-top d-flex align-items-center justify-content-center"><i class="bi bi-arrow-up-short"></i></a>

  <!-- Vendor JS Files -->
  <script src="{{ url_for('static', filename='vendor/aos/aos.js') }}"></script>
  <script src="{{ url_for('static', filename='vendor/bootstrap/js/bootstrap.bundle.min.js') }}"></script>
  <script src="{{ url_for('static', filename='vendor/glightbox/js/glightbox.min.js') }}"></script>
  <script src="{{ url_for('static', filename='vendor/isotope-layout/isotope.pkgd.min.js') }}"></script>
  <script src="{{ url_for('static', filename='vendor/php-email-form/validate.js') }}"></script>
  <script src="{{ url_for('static', filename='vendor/purecounter/purecounter.js') }}"></script>
  <script src="{{ url_for('static', filename='vendor/swiper/swiper-bundle.min.js') }}"></script>

  <!-- Template Main JS File -->
  <script src="{{ url_for('static', filename='js/main.js') }}"></script>
  <script src="{{ url_for('static', filename='js/app.js') }}"></script>

</body>
 
</html>